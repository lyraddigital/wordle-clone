name: Deployment Pipeline
concurrency: deployment-pipeline

on:
  push:
    branches:
      - main

jobs:  
  deploy-to-dev:
    runs-on: ubuntu-latest
    environment: Development
    
    steps: 
      - name: Running Deployment Workflow
        uses: ./.github/workflows/deploy-to-environment.yml
        with:
          site_stack_name: test-a
          aws_cdk_region: test-b
          site_sub_domain: test-c
        secrets:
          aws_access_key: test-d
          aws_secret_key: test-e
